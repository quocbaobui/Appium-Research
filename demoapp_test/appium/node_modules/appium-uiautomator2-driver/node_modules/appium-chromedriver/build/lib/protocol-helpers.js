"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getCapValue = getCapValue;
exports.toW3cCapNames = toW3cCapNames;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

var _driver = require("appium/driver");

const W3C_PREFIX = 'goog:';

function toW3cCapName(capName) {
  return _lodash.default.isString(capName) && !capName.includes(':') && !(0, _driver.isStandardCap)(capName) ? `${W3C_PREFIX}${capName}` : capName;
}

function getCapValue(allCaps = {}, rawCapName, defaultValue) {
  for (const [capName, capValue] of _lodash.default.toPairs(allCaps)) {
    if (toW3cCapName(capName) === toW3cCapName(rawCapName)) {
      return capValue;
    }
  }

  return defaultValue;
}

function toW3cCapNames(originalCaps = {}) {
  return _lodash.default.reduce(originalCaps, (acc, value, key) => {
    acc[toW3cCapName(key)] = value;
    return acc;
  }, {});
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJXM0NfUFJFRklYIiwidG9XM2NDYXBOYW1lIiwiY2FwTmFtZSIsIl8iLCJpc1N0cmluZyIsImluY2x1ZGVzIiwiaXNTdGFuZGFyZENhcCIsImdldENhcFZhbHVlIiwiYWxsQ2FwcyIsInJhd0NhcE5hbWUiLCJkZWZhdWx0VmFsdWUiLCJjYXBWYWx1ZSIsInRvUGFpcnMiLCJ0b1czY0NhcE5hbWVzIiwib3JpZ2luYWxDYXBzIiwicmVkdWNlIiwiYWNjIiwidmFsdWUiLCJrZXkiXSwic291cmNlcyI6WyIuLi8uLi9saWIvcHJvdG9jb2wtaGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgaXNTdGFuZGFyZENhcCB9IGZyb20gJ2FwcGl1bS9kcml2ZXInO1xuXG5jb25zdCBXM0NfUFJFRklYID0gJ2dvb2c6JztcblxuZnVuY3Rpb24gdG9XM2NDYXBOYW1lIChjYXBOYW1lKSB7XG4gIHJldHVybiAoXy5pc1N0cmluZyhjYXBOYW1lKSAmJiAhY2FwTmFtZS5pbmNsdWRlcygnOicpICYmICFpc1N0YW5kYXJkQ2FwKGNhcE5hbWUpKVxuICAgID8gYCR7VzNDX1BSRUZJWH0ke2NhcE5hbWV9YFxuICAgIDogY2FwTmFtZTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2FwVmFsdWUgKGFsbENhcHMgPSB7fSwgcmF3Q2FwTmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gIGZvciAoY29uc3QgW2NhcE5hbWUsIGNhcFZhbHVlXSBvZiBfLnRvUGFpcnMoYWxsQ2FwcykpIHtcbiAgICBpZiAodG9XM2NDYXBOYW1lKGNhcE5hbWUpID09PSB0b1czY0NhcE5hbWUocmF3Q2FwTmFtZSkpIHtcbiAgICAgIHJldHVybiBjYXBWYWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cblxuZnVuY3Rpb24gdG9XM2NDYXBOYW1lcyAob3JpZ2luYWxDYXBzID0ge30pIHtcbiAgcmV0dXJuIF8ucmVkdWNlKG9yaWdpbmFsQ2FwcywgKGFjYywgdmFsdWUsIGtleSkgPT4ge1xuICAgIGFjY1t0b1czY0NhcE5hbWUoa2V5KV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5cbmV4cG9ydCB7IHRvVzNjQ2FwTmFtZXMsIGdldENhcFZhbHVlIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVBLE1BQU1BLFVBQVUsR0FBRyxPQUFuQjs7QUFFQSxTQUFTQyxZQUFULENBQXVCQyxPQUF2QixFQUFnQztFQUM5QixPQUFRQyxlQUFBLENBQUVDLFFBQUYsQ0FBV0YsT0FBWCxLQUF1QixDQUFDQSxPQUFPLENBQUNHLFFBQVIsQ0FBaUIsR0FBakIsQ0FBeEIsSUFBaUQsQ0FBQyxJQUFBQyxxQkFBQSxFQUFjSixPQUFkLENBQW5ELEdBQ0YsR0FBRUYsVUFBVyxHQUFFRSxPQUFRLEVBRHJCLEdBRUhBLE9BRko7QUFHRDs7QUFFRCxTQUFTSyxXQUFULENBQXNCQyxPQUFPLEdBQUcsRUFBaEMsRUFBb0NDLFVBQXBDLEVBQWdEQyxZQUFoRCxFQUE4RDtFQUM1RCxLQUFLLE1BQU0sQ0FBQ1IsT0FBRCxFQUFVUyxRQUFWLENBQVgsSUFBa0NSLGVBQUEsQ0FBRVMsT0FBRixDQUFVSixPQUFWLENBQWxDLEVBQXNEO0lBQ3BELElBQUlQLFlBQVksQ0FBQ0MsT0FBRCxDQUFaLEtBQTBCRCxZQUFZLENBQUNRLFVBQUQsQ0FBMUMsRUFBd0Q7TUFDdEQsT0FBT0UsUUFBUDtJQUNEO0VBQ0Y7O0VBQ0QsT0FBT0QsWUFBUDtBQUNEOztBQUVELFNBQVNHLGFBQVQsQ0FBd0JDLFlBQVksR0FBRyxFQUF2QyxFQUEyQztFQUN6QyxPQUFPWCxlQUFBLENBQUVZLE1BQUYsQ0FBU0QsWUFBVCxFQUF1QixDQUFDRSxHQUFELEVBQU1DLEtBQU4sRUFBYUMsR0FBYixLQUFxQjtJQUNqREYsR0FBRyxDQUFDZixZQUFZLENBQUNpQixHQUFELENBQWIsQ0FBSCxHQUF5QkQsS0FBekI7SUFDQSxPQUFPRCxHQUFQO0VBQ0QsQ0FITSxFQUdKLEVBSEksQ0FBUDtBQUlEIn0=
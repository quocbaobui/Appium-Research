"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.UiAutomator = void 0;

require("source-map-support/register");

var _events = _interopRequireDefault(require("events"));

var _support = require("appium/support");

const log = _support.logger.getLogger('UiAutomator');

class UiAutomator extends _events.default.EventEmitter {
  constructor(adb) {
    if (!adb) {
      log.errorAndThrow('adb is required to instantiate UiAutomator');
    }

    super();
    this.adb = adb;
    this.tempPath = '/data/local/tmp/';
  }

  async start(uiAutomatorBinaryPath, className, startDetector, ...extraParams) {
    let processIsAlive;

    try {
      log.debug('Starting UiAutomator');
      this.changeState(UiAutomator.STATE_STARTING);
      log.debug('Parsing uiautomator jar');
      let jarName = this.parseJarNameFromPath(uiAutomatorBinaryPath);
      await this.adb.push(uiAutomatorBinaryPath, this.tempPath);
      await this.killUiAutomatorOnDevice();
      log.debug('Starting UIAutomator');
      let args = ['shell', 'uiautomator', 'runtest', jarName, '-c', className, ...extraParams];
      this.proc = this.adb.createSubProcess(args);
      this.proc.on('exit', (code, signal) => {
        processIsAlive = false;

        if (this.state !== UiAutomator.STATE_STOPPED && this.state !== UiAutomator.STATE_STOPPING) {
          let msg = `UiAutomator exited unexpectedly with code ${code}, ` + `signal ${signal}`;
          log.error(msg);
        } else if (this.state === UiAutomator.STATE_STOPPING) {
          log.debug('UiAutomator shut down normally');
        }

        this.changeState(UiAutomator.STATE_STOPPED);
      });
      await this.proc.start(startDetector);
      processIsAlive = true;
      this.changeState(UiAutomator.STATE_ONLINE);
      return this.proc;
    } catch (e) {
      this.emit(UiAutomator.EVENT_ERROR, e);

      if (processIsAlive) {
        await this.killUiAutomatorOnDevice();
        await this.proc.stop();
      }

      log.errorAndThrow(e);
    }
  }

  async shutdown() {
    log.debug('Shutting down UiAutomator');

    if (this.state !== UiAutomator.STATE_STOPPED) {
      this.changeState(UiAutomator.STATE_STOPPING);
      await this.proc.stop();
    }

    await this.killUiAutomatorOnDevice();
    this.changeState(UiAutomator.STATE_STOPPED);
  }

  parseJarNameFromPath(binaryPath) {
    let reTest = /.*(\/|\\)(.*\.jar)/.exec(binaryPath);

    if (!reTest) {
      throw new Error(`Unable to parse jar name from ${binaryPath}`);
    }

    let jarName = reTest[2];
    log.debug(`Found jar name: '${jarName}'`);
    return jarName;
  }

  changeState(state) {
    log.debug(`Moving to state '${state}'`);
    this.state = state;
    this.emit(UiAutomator.EVENT_CHANGED, {
      state
    });
  }

  async killUiAutomatorOnDevice() {
    try {
      await this.adb.killProcessesByName('uiautomator');
    } catch (e) {
      log.warn(`Error while killing uiAutomator: ${e}`);
    }
  }

}

exports.UiAutomator = UiAutomator;
UiAutomator.EVENT_ERROR = 'uiautomator_error';
UiAutomator.EVENT_CHANGED = 'stateChanged';
UiAutomator.STATE_STOPPING = 'stopping';
UiAutomator.STATE_STOPPED = 'stopped';
UiAutomator.STATE_STARTING = 'starting';
UiAutomator.STATE_ONLINE = 'online';
var _default = UiAutomator;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2ciLCJsb2dnZXIiLCJnZXRMb2dnZXIiLCJVaUF1dG9tYXRvciIsImV2ZW50cyIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwiYWRiIiwiZXJyb3JBbmRUaHJvdyIsInRlbXBQYXRoIiwic3RhcnQiLCJ1aUF1dG9tYXRvckJpbmFyeVBhdGgiLCJjbGFzc05hbWUiLCJzdGFydERldGVjdG9yIiwiZXh0cmFQYXJhbXMiLCJwcm9jZXNzSXNBbGl2ZSIsImRlYnVnIiwiY2hhbmdlU3RhdGUiLCJTVEFURV9TVEFSVElORyIsImphck5hbWUiLCJwYXJzZUphck5hbWVGcm9tUGF0aCIsInB1c2giLCJraWxsVWlBdXRvbWF0b3JPbkRldmljZSIsImFyZ3MiLCJwcm9jIiwiY3JlYXRlU3ViUHJvY2VzcyIsIm9uIiwiY29kZSIsInNpZ25hbCIsInN0YXRlIiwiU1RBVEVfU1RPUFBFRCIsIlNUQVRFX1NUT1BQSU5HIiwibXNnIiwiZXJyb3IiLCJTVEFURV9PTkxJTkUiLCJlIiwiZW1pdCIsIkVWRU5UX0VSUk9SIiwic3RvcCIsInNodXRkb3duIiwiYmluYXJ5UGF0aCIsInJlVGVzdCIsImV4ZWMiLCJFcnJvciIsIkVWRU5UX0NIQU5HRUQiLCJraWxsUHJvY2Vzc2VzQnlOYW1lIiwid2FybiJdLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi91aWF1dG9tYXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXZlbnRzIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdhcHBpdW0vc3VwcG9ydCc7XG5cblxuY29uc3QgbG9nID0gbG9nZ2VyLmdldExvZ2dlcignVWlBdXRvbWF0b3InKTtcblxuY2xhc3MgVWlBdXRvbWF0b3IgZXh0ZW5kcyBldmVudHMuRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IgKGFkYikge1xuICAgIGlmICghYWRiKSB7XG4gICAgICBsb2cuZXJyb3JBbmRUaHJvdygnYWRiIGlzIHJlcXVpcmVkIHRvIGluc3RhbnRpYXRlIFVpQXV0b21hdG9yJyk7XG4gICAgfVxuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGIgPSBhZGI7XG4gICAgdGhpcy50ZW1wUGF0aCA9ICcvZGF0YS9sb2NhbC90bXAvJztcbiAgfVxuXG4gIGFzeW5jIHN0YXJ0ICh1aUF1dG9tYXRvckJpbmFyeVBhdGgsIGNsYXNzTmFtZSwgc3RhcnREZXRlY3RvciwgLi4uZXh0cmFQYXJhbXMpIHtcbiAgICBsZXQgcHJvY2Vzc0lzQWxpdmU7XG4gICAgdHJ5IHtcbiAgICAgIGxvZy5kZWJ1ZygnU3RhcnRpbmcgVWlBdXRvbWF0b3InKTtcbiAgICAgIHRoaXMuY2hhbmdlU3RhdGUoVWlBdXRvbWF0b3IuU1RBVEVfU1RBUlRJTkcpO1xuXG4gICAgICBsb2cuZGVidWcoJ1BhcnNpbmcgdWlhdXRvbWF0b3IgamFyJyk7XG4gICAgICAvLyBleHBlY3RpbmcgYSBwYXRoIGxpa2UgL2Fkcy9hZHMvZm9vLmphciBvciBcXGFzZFxcYXNkXFxmb28uamFyXG4gICAgICBsZXQgamFyTmFtZSA9IHRoaXMucGFyc2VKYXJOYW1lRnJvbVBhdGgodWlBdXRvbWF0b3JCaW5hcnlQYXRoKTtcbiAgICAgIGF3YWl0IHRoaXMuYWRiLnB1c2godWlBdXRvbWF0b3JCaW5hcnlQYXRoLCB0aGlzLnRlbXBQYXRoKTtcblxuICAgICAgLy8ga2lsbGluZyBhbnkgdWlhdXRvbWF0b3IgZXhpc3RpbmcgcHJvY2Vzc2VzXG4gICAgICBhd2FpdCB0aGlzLmtpbGxVaUF1dG9tYXRvck9uRGV2aWNlKCk7XG5cbiAgICAgIGxvZy5kZWJ1ZygnU3RhcnRpbmcgVUlBdXRvbWF0b3InKTtcbiAgICAgIGxldCBhcmdzID0gWydzaGVsbCcsICd1aWF1dG9tYXRvcicsICdydW50ZXN0JywgamFyTmFtZSwgJy1jJywgY2xhc3NOYW1lLCAuLi5leHRyYVBhcmFtc107XG4gICAgICB0aGlzLnByb2MgPSB0aGlzLmFkYi5jcmVhdGVTdWJQcm9jZXNzKGFyZ3MpO1xuXG4gICAgICAvLyBoYW5kbGUgb3V0LW9mLWJvdW5kIGV4aXQgYnkgc2ltcGx5IGVtaXR0aW5nIGEgc3RvcHBlZCBzdGF0ZVxuICAgICAgdGhpcy5wcm9jLm9uKCdleGl0JywgKGNvZGUsIHNpZ25hbCkgPT4ge1xuICAgICAgICBwcm9jZXNzSXNBbGl2ZSA9IGZhbHNlO1xuICAgICAgICAvLyBjbGVhbnVwXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBVaUF1dG9tYXRvci5TVEFURV9TVE9QUEVEICYmXG4gICAgICAgICAgICB0aGlzLnN0YXRlICE9PSBVaUF1dG9tYXRvci5TVEFURV9TVE9QUElORykge1xuICAgICAgICAgIGxldCBtc2cgPSBgVWlBdXRvbWF0b3IgZXhpdGVkIHVuZXhwZWN0ZWRseSB3aXRoIGNvZGUgJHtjb2RlfSwgYCArXG4gICAgICAgICAgICAgICAgICAgIGBzaWduYWwgJHtzaWduYWx9YDtcbiAgICAgICAgICBsb2cuZXJyb3IobXNnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSBVaUF1dG9tYXRvci5TVEFURV9TVE9QUElORykge1xuICAgICAgICAgIGxvZy5kZWJ1ZygnVWlBdXRvbWF0b3Igc2h1dCBkb3duIG5vcm1hbGx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShVaUF1dG9tYXRvci5TVEFURV9TVE9QUEVEKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB0aGlzLnByb2Muc3RhcnQoc3RhcnREZXRlY3Rvcik7XG4gICAgICBwcm9jZXNzSXNBbGl2ZSA9IHRydWU7XG4gICAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yLlNUQVRFX09OTElORSk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9jO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuZW1pdChVaUF1dG9tYXRvci5FVkVOVF9FUlJPUiwgZSk7XG4gICAgICBpZiAocHJvY2Vzc0lzQWxpdmUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5raWxsVWlBdXRvbWF0b3JPbkRldmljZSgpO1xuICAgICAgICBhd2FpdCB0aGlzLnByb2Muc3RvcCgpO1xuICAgICAgfVxuICAgICAgbG9nLmVycm9yQW5kVGhyb3coZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2h1dGRvd24gKCkge1xuICAgIGxvZy5kZWJ1ZygnU2h1dHRpbmcgZG93biBVaUF1dG9tYXRvcicpO1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSBVaUF1dG9tYXRvci5TVEFURV9TVE9QUEVEKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yLlNUQVRFX1NUT1BQSU5HKTtcbiAgICAgIGF3YWl0IHRoaXMucHJvYy5zdG9wKCk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMua2lsbFVpQXV0b21hdG9yT25EZXZpY2UoKTtcbiAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yLlNUQVRFX1NUT1BQRUQpO1xuICB9XG5cbiAgcGFyc2VKYXJOYW1lRnJvbVBhdGggKGJpbmFyeVBhdGgpIHtcbiAgICBsZXQgcmVUZXN0ID0gLy4qKFxcL3xcXFxcKSguKlxcLmphcikvLmV4ZWMoYmluYXJ5UGF0aCk7XG4gICAgaWYgKCFyZVRlc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIGphciBuYW1lIGZyb20gJHtiaW5hcnlQYXRofWApO1xuICAgIH1cbiAgICBsZXQgamFyTmFtZSA9IHJlVGVzdFsyXTtcbiAgICBsb2cuZGVidWcoYEZvdW5kIGphciBuYW1lOiAnJHtqYXJOYW1lfSdgKTtcbiAgICByZXR1cm4gamFyTmFtZTtcbiAgfVxuXG4gIGNoYW5nZVN0YXRlIChzdGF0ZSkge1xuICAgIGxvZy5kZWJ1ZyhgTW92aW5nIHRvIHN0YXRlICcke3N0YXRlfSdgKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5lbWl0KFVpQXV0b21hdG9yLkVWRU5UX0NIQU5HRUQsIHtzdGF0ZX0pO1xuICB9XG5cbiAgYXN5bmMga2lsbFVpQXV0b21hdG9yT25EZXZpY2UgKCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmFkYi5raWxsUHJvY2Vzc2VzQnlOYW1lKCd1aWF1dG9tYXRvcicpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZy53YXJuKGBFcnJvciB3aGlsZSBraWxsaW5nIHVpQXV0b21hdG9yOiAke2V9YCk7XG4gICAgfVxuICB9XG5cbn1cblxuVWlBdXRvbWF0b3IuRVZFTlRfRVJST1IgPSAndWlhdXRvbWF0b3JfZXJyb3InO1xuVWlBdXRvbWF0b3IuRVZFTlRfQ0hBTkdFRCA9ICdzdGF0ZUNoYW5nZWQnO1xuVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBJTkcgPSAnc3RvcHBpbmcnO1xuVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBFRCA9ICdzdG9wcGVkJztcblVpQXV0b21hdG9yLlNUQVRFX1NUQVJUSU5HID0gJ3N0YXJ0aW5nJztcblVpQXV0b21hdG9yLlNUQVRFX09OTElORSA9ICdvbmxpbmUnO1xuXG5cbmV4cG9ydCB7IFVpQXV0b21hdG9yIH07XG5leHBvcnQgZGVmYXVsdCBVaUF1dG9tYXRvcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFHQSxNQUFNQSxHQUFHLEdBQUdDLGVBQUEsQ0FBT0MsU0FBUCxDQUFpQixhQUFqQixDQUFaOztBQUVBLE1BQU1DLFdBQU4sU0FBMEJDLGVBQUEsQ0FBT0MsWUFBakMsQ0FBOEM7RUFDNUNDLFdBQVcsQ0FBRUMsR0FBRixFQUFPO0lBQ2hCLElBQUksQ0FBQ0EsR0FBTCxFQUFVO01BQ1JQLEdBQUcsQ0FBQ1EsYUFBSixDQUFrQiw0Q0FBbEI7SUFDRDs7SUFDRDtJQUNBLEtBQUtELEdBQUwsR0FBV0EsR0FBWDtJQUNBLEtBQUtFLFFBQUwsR0FBZ0Isa0JBQWhCO0VBQ0Q7O0VBRVUsTUFBTEMsS0FBSyxDQUFFQyxxQkFBRixFQUF5QkMsU0FBekIsRUFBb0NDLGFBQXBDLEVBQW1ELEdBQUdDLFdBQXRELEVBQW1FO0lBQzVFLElBQUlDLGNBQUo7O0lBQ0EsSUFBSTtNQUNGZixHQUFHLENBQUNnQixL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